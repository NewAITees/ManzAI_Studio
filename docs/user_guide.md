# ManzAI Studio ユーザーガイド

## 目次

1. [はじめに](#はじめに)
2. [インストール方法](#インストール方法)
3. [基本操作](#基本操作)
4. [漫才生成](#漫才生成)
5. [音声合成](#音声合成)
6. [Live2Dモデル](#live2dモデル)
7. [プロンプトのカスタマイズ](#プロンプトのカスタマイズ)
8. [トラブルシューティング](#トラブルシューティング)

## はじめに

ManzAI Studioは、AI技術を活用した漫才生成・音声合成・Live2Dアニメーション統合ツールです。本ソフトウェアを使用することで、トピックを指定するだけで、自動的に漫才スクリプトを生成し、音声合成とアニメーションを組み合わせた漫才パフォーマンスを作成することができます。

### 主な機能

- AIによる漫才スクリプト生成
- 音声合成による発話
- Live2Dモデルを使用したアニメーション
- カスタマイズ可能なプロンプト設定

## インストール方法

ManzAI Studioは、Dockerを使用して簡単にインストール・起動することができます。

### 必要要件

- Docker と Docker Compose がインストールされていること
- インターネット接続環境（初回起動時に必要なコンテナイメージをダウンロードするため）
- 推奨: 8GB以上のRAM、4コア以上のCPU

### インストール手順

1. GitHubリポジトリからコードをクローンします
```bash
git clone https://github.com/your-username/manzai-studio.git
cd manzai-studio
```

2. 開発環境で実行する場合
```bash
docker-compose -f docker-compose.dev.yml up -d
```

3. 本番環境で実行する場合
```bash
docker-compose up -d
```

4. ブラウザから以下のURLにアクセスします
```
http://localhost:3000/
```

## 基本操作

ManzAI Studioのウェブインターフェースは、シンプルで直感的に操作できるように設計されています。

### メイン画面の構成

- **トップバー**: アプリケーションのステータスやメニューが表示されます
- **漫才生成パネル**: トピックや設定を入力し、漫才を生成します
- **スクリプト表示エリア**: 生成された漫才スクリプトが表示されます
- **Live2Dビューア**: Live2Dモデルが表示され、漫才を演じます
- **コントロールパネル**: 再生・停止などの操作ボタンがあります

## 漫才生成

### 基本的な漫才の生成方法

1. 漫才生成パネルで、トピック（例: 「人工知能」「宇宙旅行」など）を入力します
2. 必要に応じて、詳細設定（スタイル、長さなど）を調整します
3. 「生成」ボタンをクリックします
4. 生成された漫才スクリプトがスクリプト表示エリアに表示されます

### 詳細設定オプション

- **プロンプト選択**: 複数のプロンプトテンプレートから選択できます
- **スタイル設定**: 「関西風」「標準」などのスタイルを選択できます
- **長さ設定**: 漫才の長さ（短め・標準・長め）を調整できます

## 音声合成

### 音声合成の基本設定

1. 「音声設定」タブを開きます
2. 「ツッコミ」と「ボケ」それぞれの話者を選択します
3. 話者ごとに、声の高さやスピードなどのパラメータを調整できます

### 利用可能な話者

VoiceVoxエンジンで利用可能な話者が一覧表示されます。それぞれの話者には複数のスタイル（「ノーマル」「怒り」「喜び」など）が用意されている場合があります。

## Live2Dモデル

### モデルの選択と切り替え

1. 「モデル設定」タブを開きます
2. 「ツッコミ」と「ボケ」それぞれのモデルをギャラリーから選択します
3. プレビューで確認し、「適用」ボタンをクリックします

### カスタムモデルの追加

1. 「モデル設定」タブの「カスタムモデル追加」ボタンをクリックします
2. モデル名と説明を入力します
3. Live2Dモデルファイル（zipまたはmoc3形式）をアップロードします
4. サムネイル画像をアップロードします（任意）
5. 「登録」ボタンをクリックします

## プロンプトのカスタマイズ

ManzAI Studioでは、漫才生成に使用するプロンプトをカスタマイズすることができます。

### プロンプトの作成

1. 「設定」メニューから「プロンプト管理」を選択します
2. 「新規プロンプト」ボタンをクリックします
3. プロンプト名と説明を入力します
4. テンプレート文字列を入力します（変数は `{{変数名}}` の形式で指定）
5. 「保存」ボタンをクリックします

### プロンプト変数

プロンプトテンプレートでは、以下のような変数を使用できます：
- `{{topic}}`: ユーザーが指定したトピック
- `{{style}}`: 漫才のスタイル（関西風など）
- `{{length}}`: 漫才の長さ指定

## トラブルシューティング

### よくある問題と解決策

**Q: アプリケーションが起動しない**

A: 以下を確認してください：
- Docker Composeが正しくインストールされているか
- ポート5000と3000が他のアプリケーションで使用されていないか
- ログを確認: `docker-compose logs`

**Q: 漫才生成に時間がかかる**

A: 初回生成時は、言語モデルのロードに時間がかかる場合があります。2回目以降は高速化されます。

**Q: 音声合成ができない**

A: VoiceVoxサービスが正常に起動しているか確認してください：
```bash
docker-compose ps
```

**Q: Live2Dモデルが表示されない**

A: ブラウザのWebGL対応を確認してください。最新のChrome、Firefox、Edgeなどのモダンブラウザを使用してください。

### サポート情報

問題が解決しない場合は、GitHub Issuesで報告してください：
[https://github.com/your-username/manzai-studio/issues](https://github.com/your-username/manzai-studio/issues) 